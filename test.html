<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quiz: Excel i Bezpiecze≈Ñstwo w Internecie</title>
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&family=Fredoka+One&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #0f1b3d;
    --card: #1a2a55;
    --accent1: #ff6b6b;
    --accent2: #ffd93d;
    --accent3: #6bcb77;
    --accent4: #4d96ff;
    --text: #ffffff;
    --text-soft: #a8b4d8;
    --radius: 20px;
  }

  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    font-family: 'Nunito', sans-serif;
    background: var(--bg);
    color: var(--text);
    min-height: 100vh;
    overflow-x: hidden;
    background-image:
      radial-gradient(ellipse at 10% 20%, rgba(77,150,255,0.15) 0%, transparent 50%),
      radial-gradient(ellipse at 90% 80%, rgba(255,107,107,0.12) 0%, transparent 50%);
  }

  /* Stars background */
  .stars {
    position: fixed; inset: 0; pointer-events: none; z-index: 0;
    overflow: hidden;
  }
  .star {
    position: absolute;
    border-radius: 50%;
    background: white;
    animation: twinkle 3s infinite alternate;
  }

  @keyframes twinkle {
    from { opacity: 0.2; transform: scale(1); }
    to { opacity: 1; transform: scale(1.3); }
  }

  .container {
    position: relative; z-index: 1;
    max-width: 800px;
    margin: 0 auto;
    padding: 20px;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
  }

  /* SCREENS */
  .screen { width: 100%; display: none; animation: fadeIn 0.5s ease; }
  .screen.active { display: flex; flex-direction: column; align-items: center; }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  /* START SCREEN */
  .logo {
    font-family: 'Fredoka One', cursive;
    font-size: clamp(2.2rem, 6vw, 3.5rem);
    background: linear-gradient(135deg, var(--accent4), var(--accent2), var(--accent1));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    text-align: center;
    margin: 30px 0 10px;
    line-height: 1.1;
  }

  .subtitle {
    color: var(--text-soft);
    font-size: 1.1rem;
    font-weight: 600;
    text-align: center;
    margin-bottom: 30px;
  }

  .emoji-row {
    font-size: 3rem;
    display: flex;
    gap: 15px;
    margin-bottom: 30px;
    animation: bounce 2s infinite;
  }

  @keyframes bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
  }

  .topics-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
    width: 100%;
    margin-bottom: 30px;
  }

  .topic-card {
    background: var(--card);
    border-radius: var(--radius);
    padding: 20px;
    border: 2px solid transparent;
    transition: all 0.3s;
    text-align: center;
  }

  .topic-card.excel { border-color: var(--accent3); }
  .topic-card.internet { border-color: var(--accent4); }

  .topic-card .icon { font-size: 2.5rem; margin-bottom: 10px; }
  .topic-card h3 { font-family: 'Fredoka One', cursive; font-size: 1.2rem; margin-bottom: 6px; }
  .topic-card p { color: var(--text-soft); font-size: 0.85rem; }

  .btn {
    font-family: 'Fredoka One', cursive;
    font-size: 1.3rem;
    padding: 16px 50px;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    transition: all 0.25s;
    letter-spacing: 0.5px;
  }

  .btn-primary {
    background: linear-gradient(135deg, var(--accent4), #7b2ff7);
    color: white;
    box-shadow: 0 8px 25px rgba(77,150,255,0.4);
  }

  .btn-primary:hover {
    transform: translateY(-3px) scale(1.04);
    box-shadow: 0 14px 35px rgba(77,150,255,0.55);
  }

  /* QUIZ SCREEN */
  .progress-bar-wrap {
    width: 100%;
    background: rgba(255,255,255,0.1);
    border-radius: 50px;
    height: 12px;
    margin: 20px 0 10px;
    overflow: hidden;
  }

  .progress-bar {
    height: 100%;
    border-radius: 50px;
    background: linear-gradient(90deg, var(--accent4), var(--accent2));
    transition: width 0.5s ease;
  }

  .meta-row {
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    font-size: 0.9rem;
    color: var(--text-soft);
    font-weight: 700;
  }

  .badge {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    background: rgba(255,255,255,0.08);
    border-radius: 30px;
    padding: 6px 14px;
    font-size: 0.85rem;
    font-weight: 700;
  }

  .badge.excel-badge { color: var(--accent3); border: 1.5px solid var(--accent3); }
  .badge.internet-badge { color: var(--accent4); border: 1.5px solid var(--accent4); }

  .question-card {
    background: var(--card);
    border-radius: var(--radius);
    padding: 28px;
    width: 100%;
    margin-bottom: 20px;
    border: 2px solid rgba(255,255,255,0.07);
    position: relative;
    overflow: hidden;
  }

  .question-card::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 4px;
    background: linear-gradient(90deg, var(--accent4), var(--accent2));
  }

  .q-number {
    font-family: 'Fredoka One', cursive;
    color: var(--text-soft);
    font-size: 0.9rem;
    margin-bottom: 10px;
  }

  .q-text {
    font-size: 1.15rem;
    font-weight: 700;
    line-height: 1.5;
  }

  .answers-grid {
    width: 100%;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
    margin-bottom: 20px;
  }

  @media (max-width: 500px) {
    .answers-grid { grid-template-columns: 1fr; }
    .topics-grid { grid-template-columns: 1fr; }
  }

  .answer-btn {
    background: rgba(255,255,255,0.05);
    border: 2px solid rgba(255,255,255,0.12);
    border-radius: var(--radius);
    padding: 14px 18px;
    color: white;
    font-family: 'Nunito', sans-serif;
    font-size: 0.95rem;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.2s;
    text-align: left;
    display: flex;
    align-items: center;
    gap: 12px;
  }

  .answer-btn:hover:not(:disabled) {
    background: rgba(77,150,255,0.15);
    border-color: var(--accent4);
    transform: translateY(-2px);
  }

  .answer-btn .letter {
    width: 30px; height: 30px;
    border-radius: 50%;
    background: rgba(255,255,255,0.1);
    display: flex; align-items: center; justify-content: center;
    font-family: 'Fredoka One', cursive;
    font-size: 1rem;
    flex-shrink: 0;
  }

  .answer-btn.correct {
    background: rgba(107,203,119,0.2);
    border-color: var(--accent3);
    animation: pulse-green 0.4s ease;
  }

  .answer-btn.correct .letter { background: var(--accent3); color: #0f1b3d; }

  .answer-btn.wrong {
    background: rgba(255,107,107,0.2);
    border-color: var(--accent1);
    animation: shake 0.4s ease;
  }

  .answer-btn.wrong .letter { background: var(--accent1); }

  @keyframes pulse-green {
    0% { transform: scale(1); }
    50% { transform: scale(1.03); }
    100% { transform: scale(1); }
  }

  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-6px); }
    75% { transform: translateX(6px); }
  }

  .feedback-box {
    width: 100%;
    border-radius: var(--radius);
    padding: 16px 20px;
    font-weight: 700;
    font-size: 1rem;
    margin-bottom: 15px;
    display: none;
    align-items: center;
    gap: 12px;
    animation: fadeIn 0.3s ease;
  }

  .feedback-box.show { display: flex; }
  .feedback-box.correct { background: rgba(107,203,119,0.15); border: 2px solid var(--accent3); }
  .feedback-box.wrong { background: rgba(255,107,107,0.15); border: 2px solid var(--accent1); }
  .feedback-icon { font-size: 1.6rem; }

  .btn-next {
    background: linear-gradient(135deg, var(--accent2), var(--accent1));
    color: #0f1b3d;
    font-family: 'Fredoka One', cursive;
    font-size: 1.1rem;
    padding: 14px 40px;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    display: none;
    transition: all 0.25s;
    box-shadow: 0 6px 20px rgba(255,217,61,0.3);
  }

  .btn-next.show { display: block; }
  .btn-next:hover { transform: translateY(-3px); box-shadow: 0 10px 28px rgba(255,217,61,0.45); }

  /* SCORE */
  .score-screen {
    text-align: center;
    padding: 20px;
  }

  .trophy {
    font-size: 5rem;
    margin: 20px 0;
    animation: trophy-bounce 1s ease;
  }

  @keyframes trophy-bounce {
    0% { transform: scale(0) rotate(-20deg); }
    60% { transform: scale(1.2) rotate(5deg); }
    100% { transform: scale(1) rotate(0); }
  }

  .score-title {
    font-family: 'Fredoka One', cursive;
    font-size: 2.5rem;
    margin-bottom: 10px;
  }

  .score-big {
    font-family: 'Fredoka One', cursive;
    font-size: 5rem;
    background: linear-gradient(135deg, var(--accent2), var(--accent1));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    line-height: 1;
    margin: 10px 0;
  }

  .score-sub { color: var(--text-soft); font-size: 1.1rem; margin-bottom: 25px; }

  .cats-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
    width: 100%;
    margin-bottom: 25px;
  }

  .cat-card {
    background: var(--card);
    border-radius: var(--radius);
    padding: 18px;
    text-align: center;
  }

  .cat-card .cat-icon { font-size: 2rem; margin-bottom: 8px; }
  .cat-card h4 { font-family: 'Fredoka One', cursive; font-size: 1.1rem; margin-bottom: 4px; }
  .cat-card .cat-score { font-size: 1.6rem; font-weight: 900; }

  .medal-msg {
    background: var(--card);
    border-radius: var(--radius);
    padding: 20px;
    width: 100%;
    margin-bottom: 25px;
    border: 2px solid var(--accent2);
    font-size: 1rem;
    line-height: 1.6;
    font-weight: 600;
  }

  .btn-restart {
    background: linear-gradient(135deg, var(--accent4), #7b2ff7);
    color: white;
    font-family: 'Fredoka One', cursive;
    font-size: 1.2rem;
    padding: 15px 45px;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    transition: all 0.25s;
    box-shadow: 0 6px 20px rgba(77,150,255,0.4);
  }

  .btn-restart:hover { transform: translateY(-3px); }

  /* confetti */
  .confetti-piece {
    position: fixed;
    width: 10px; height: 14px;
    border-radius: 2px;
    animation: confetti-fall 3s forwards;
    z-index: 999;
  }

  @keyframes confetti-fall {
    0% { transform: translateY(-20px) rotate(0deg); opacity: 1; }
    100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
  }
</style>
</head>
<body>

<div class="stars" id="stars"></div>

<div class="container">

  <!-- START SCREEN -->
  <div class="screen active" id="screen-start">
    <div class="logo">Quiz Informatyczny üñ•Ô∏è</div>
    <div class="subtitle">Szko≈Ça Podstawowa</div>

    <div class="emoji-row">
      <span>üìä</span><span>üîí</span><span>üíª</span><span>üåê</span>
    </div>

    <div class="topics-grid">
      <div class="topic-card excel">
        <div class="icon">üìä</div>
        <h3>Podstawy Excela</h3>
        <p>Arkusze, formu≈Çy, kom√≥rki i wykresy</p>
      </div>
      <div class="topic-card internet">
        <div class="icon">üîí</div>
        <h3>Bezpiecze≈Ñstwo w Sieci</h3>
        <p>Has≈Ça, prywatno≈õƒá, zagro≈ºenia online</p>
      </div>
    </div>

    <p style="color: var(--text-soft); margin-bottom: 25px; font-weight: 700; font-size: 0.95rem;">
      üéØ 20 pyta≈Ñ ‚Ä¢ 2 dzia≈Çy ‚Ä¢ Sprawd≈∫ swojƒÖ wiedzƒô!
    </p>

    <button class="btn btn-primary" onclick="startQuiz()">Zaczynamy! üöÄ</button>
  </div>

  <!-- QUIZ SCREEN -->
  <div class="screen" id="screen-quiz">
    <div class="progress-bar-wrap" style="width:100%">
      <div class="progress-bar" id="progress-bar"></div>
    </div>

    <div class="meta-row">
      <span id="q-counter">Pytanie 1 z 20</span>
      <span id="cat-badge" class="badge excel-badge">üìä Excel</span>
      <span id="score-display">‚≠ê 0 pkt</span>
    </div>

    <div class="question-card">
      <div class="q-number" id="q-number">Pytanie 1</div>
      <div class="q-text" id="q-text">Tre≈õƒá pytania...</div>
    </div>

    <div class="answers-grid" id="answers-grid"></div>

    <div class="feedback-box" id="feedback-box">
      <span class="feedback-icon" id="feedback-icon"></span>
      <span id="feedback-text"></span>
    </div>

    <button class="btn-next" id="btn-next" onclick="nextQuestion()">Nastƒôpne pytanie ‚û°Ô∏è</button>
  </div>

  <!-- SCORE SCREEN -->
  <div class="screen" id="screen-score">
    <div class="trophy" id="trophy">üèÜ</div>
    <div class="score-title" id="score-title">Brawo!</div>
    <div class="score-big" id="score-big">0/20</div>
    <div class="score-sub" id="score-sub">Tw√≥j wynik</div>

    <div class="cats-grid">
      <div class="cat-card">
        <div class="cat-icon">üìä</div>
        <h4>Excel</h4>
        <div class="cat-score" id="excel-score" style="color: var(--accent3);">0/10</div>
      </div>
      <div class="cat-card">
        <div class="cat-icon">üîí</div>
        <h4>Bezpiecze≈Ñstwo</h4>
        <div class="cat-score" id="internet-score" style="color: var(--accent4);">0/10</div>
      </div>
    </div>

    <div class="medal-msg" id="medal-msg"></div>

    <button class="btn-restart" onclick="restartQuiz()">üîÑ Zagraj ponownie</button>
  </div>

</div>

<script>
// Stars
(function() {
  const s = document.getElementById('stars');
  for (let i = 0; i < 60; i++) {
    const star = document.createElement('div');
    star.className = 'star';
    const size = Math.random() * 3 + 1;
    star.style.cssText = `
      width:${size}px; height:${size}px;
      top:${Math.random()*100}%;
      left:${Math.random()*100}%;
      animation-delay:${Math.random()*3}s;
      animation-duration:${2+Math.random()*3}s;
    `;
    s.appendChild(star);
  }
})();

const questions = [
  // EXCEL (10 pyta≈Ñ) ‚Äì poziom klasa 4-5
  {
    cat: 'excel',
    text: 'Do czego s≈Çu≈ºy program Microsoft Excel?',
    answers: [
      'Do liczenia i zapisywania danych w tabelce',
      'Do wysy≈Çania e-maili',
      'Do oglƒÖdania film√≥w',
      'Do s≈Çuchania muzyki'
    ],
    correct: 0,
    explanation: 'Excel to program do tabel i oblicze≈Ñ ‚Äì mo≈ºna w nim dodawaƒá liczby, tworzyƒá listy i wykresy!'
  },
  {
    cat: 'excel',
    text: 'Jak nazywa siƒô jedno ma≈Çe pole w tabelce Excela?',
    answers: ['Okienko', 'Kom√≥rka', 'Kratka', 'Skrzynka'],
    correct: 1,
    explanation: 'Ka≈ºde ma≈Çe pole w arkuszu Excela to kom√≥rka. Ma sw√≥j adres, np. A1 ‚Äì jak wsp√≥≈Çrzƒôdne na mapie!'
  },
  {
    cat: 'excel',
    text: 'Jakiego znaku u≈ºywamy, ≈ºeby zaczƒÖƒá liczenie w Excelu?',
    answers: ['Pytajnik ?', 'Ma≈Çpa @', 'Znak r√≥wno≈õci =', 'Gwiazdka *'],
    correct: 2,
    explanation: '≈ªeby Excel co≈õ policzy≈Ç, zaczynamy od znaku = (r√≥wna siƒô). Na przyk≈Çad: =2+3 da wynik 5.'
  },
  {
    cat: 'excel',
    text: 'Czym oznaczone sƒÖ kolumny (pionowe rzƒôdy) w Excelu?',
    answers: ['Liczbami: 1, 2, 3...', 'Kolorami', 'Literami: A, B, C...', 'Gwiazdkami'],
    correct: 2,
    explanation: 'Kolumny majƒÖ litery (A, B, C...), a wiersze majƒÖ liczby (1, 2, 3...). Razem dajƒÖ adres kom√≥rki, np. B3!'
  },
  {
    cat: 'excel',
    text: 'Co robi funkcja SUMA w Excelu?',
    answers: [
      'Rysuje wykres',
      'Dodaje do siebie liczby z wybranych kom√≥rek',
      'Usuwa kom√≥rki',
      'Zmienia kolor tekstu'
    ],
    correct: 1,
    explanation: 'SUMA dodaje wszystkie liczby z wybranych kom√≥rek. Na przyk≈Çad =SUMA(A1:A3) doda liczby z A1, A2 i A3.'
  },
  {
    cat: 'excel',
    text: 'Co siƒô stanie, gdy naci≈õniesz Ctrl+C na klawiaturze?',
    answers: [
      'Usuniesz plik',
      'Wydrukujesz dokument',
      'Skopiujesz zaznaczony tekst lub kom√≥rkƒô',
      'Zamkniesz program'
    ],
    correct: 2,
    explanation: 'Ctrl+C kopiuje to, co zaznaczy≈Çe≈õ. Potem Ctrl+V wkleja skopiowanƒÖ rzecz w nowym miejscu!'
  },
  {
    cat: 'excel',
    text: 'Do czego s≈Çu≈ºy wykres w Excelu?',
    answers: [
      'Do pisania opowiada≈Ñ',
      'Do pokazania liczb w formie rysunku lub obrazka',
      'Do wysy≈Çania wiadomo≈õci',
      'Do grania w gry'
    ],
    correct: 1,
    explanation: 'Wykres zamienia nudne liczby w kolorowy obrazek ‚Äì np. s≈Çupki lub ko≈Çowy tort. ≈Åatwiej por√≥wnaƒá dane!'
  },
  {
    cat: 'excel',
    text: 'Czym sƒÖ wiersze w arkuszu Excela?',
    answers: [
      'Pionowymi rzƒôdami kom√≥rek',
      'Poziomymi rzƒôdami kom√≥rek',
      'Nazwami pliku',
      'Kolorami kom√≥rek'
    ],
    correct: 1,
    explanation: 'Wiersze idƒÖ poziomo (w prawo), a kolumny pionowo (w d√≥≈Ç). Ka≈ºdy wiersz ma sw√≥j numer: 1, 2, 3...'
  },
  {
    cat: 'excel',
    text: 'Jak Excel poka≈ºe wynik, gdy wpiszesz =3+4 w kom√≥rce?',
    answers: ['Napis "3+4"', 'Nic', 'Liczbƒô 7', 'S≈Çowo "suma"'],
    correct: 2,
    explanation: 'Gdy wpiszesz =3+4, Excel od razu obliczy wynik i poka≈ºe liczbƒô 7. To jak kalkulator w tabelce!'
  },
  {
    cat: 'excel',
    text: 'Jak nazywa siƒô plik programu Excel?',
    answers: ['Dokument Worda', 'Prezentacja', 'Arkusz kalkulacyjny', 'Zdjƒôcie'],
    correct: 2,
    explanation: 'Pliki Excela to arkusze kalkulacyjne. Ich rozszerzenie to .xlsx ‚Äì tak jak zdjƒôcia majƒÖ .jpg!'
  },

  // BEZPIECZE≈ÉSTWO W INTERNECIE (10 pyta≈Ñ) ‚Äì poziom klasa 4-5
  {
    cat: 'internet',
    text: 'Komu mo≈ºesz podaƒá swoje has≈Ço do gry lub portalu?',
    answers: [
      'Nowej osobie poznanej w internecie',
      'Nikomu ‚Äì has≈Ço jest tylko dla Ciebie',
      'Ka≈ºdemu, kto poprosi',
      'Nieznajomemu, je≈õli obiecuje pomoc'
    ],
    correct: 1,
    explanation: 'Has≈Ço to sekret tylko dla Ciebie! Nawet przyjaciele z internetu mogƒÖ okazaƒá siƒô nieuczciwi.'
  },
  {
    cat: 'internet',
    text: 'Obcy cz≈Çowiek w internecie prosi Ciƒô o zdjƒôcie. Co robisz?',
    answers: [
      'Wysy≈Çam zdjƒôcie, je≈õli jest mi≈Çy',
      'Odmawiam i m√≥wiƒô o tym mamie lub tacie',
      'Wysy≈Çam zdjƒôcie, bo nie ma w tym nic z≈Çego',
      'Pytam skƒÖd jest i wtedy decydujƒô'
    ],
    correct: 1,
    explanation: 'Nigdy nie wysy≈Çaj zdjƒôƒá obcym! Zawsze powiedz doros≈Çym, gdy kto≈õ nieznajomy prosi Ciƒô o zdjƒôcia lub dane.'
  },
  {
    cat: 'internet',
    text: 'Kt√≥re z tych hase≈Ç jest bezpieczniejsze?',
    answers: ['ala', 'kot123', 'M0jaT@jnaLiczba!', '1234'],
    correct: 2,
    explanation: 'Dobre has≈Ço jest d≈Çugie i ma w sobie wielkie i ma≈Çe litery, cyfry i znaki jak ! lub @. Trudne do odgadniƒôcia!'
  },
  {
    cat: 'internet',
    text: 'Jaki adres domowy mo≈ºna podaƒá w internecie?',
    answers: [
      'Pe≈Çny adres ‚Äì ulica, numer, miasto',
      'Tylko miasto',
      '≈ªadnego ‚Äì adresu domowego nie podajemy obcym',
      'Adres szko≈Çy'
    ],
    correct: 2,
    explanation: 'Adresu domowego nie podajemy nikomu w internecie! To prywatna informacja, kt√≥rƒÖ mogƒÖ wykorzystaƒá z≈Çe osoby.'
  },
  {
    cat: 'internet',
    text: 'Kto≈õ w internecie jest dla Ciebie bardzo z≈Ço≈õliwy i Ciƒô obra≈ºa. Co robisz?',
    answers: [
      'Obra≈ºam go z powrotem',
      'Nic nie robiƒô, bo to normalny',
      'M√≥wiƒô o tym rodzicom lub nauczycielowi i blokujƒô tƒô osobƒô',
      'Podajƒô mu sw√≥j adres i proszƒô o wyja≈õnienia'
    ],
    correct: 2,
    explanation: 'Obra≈ºanie w internecie to cyberprzemoc. Zawsze m√≥w doros≈Çym i blokuj z≈Ço≈õliwe osoby ‚Äì nie musisz tego znosiƒá!'
  },
  {
    cat: 'internet',
    text: 'Dosta≈Çe≈õ wiadomo≈õƒá: ‚ÄûWygra≈Çe≈õ nowego iPhone\'a! Kliknij tutaj!" Co robisz?',
    answers: [
      'Klikam natychmiast, bo chcƒô wygraƒá!',
      'Pokazujƒô rodzicom i razem sprawdzamy, czy to prawda',
      'Podajƒô swoje dane osobowe',
      'Wysy≈Çam link wszystkim znajomym'
    ],
    correct: 1,
    explanation: 'Takie wiadomo≈õci to najczƒô≈õciej oszustwo! Poka≈º rodzicom ‚Äì sami nigdy nie klikaj w podejrzane linki.'
  },
  {
    cat: 'internet',
    text: 'Co to jest wirus komputerowy?',
    answers: [
      'Choroba, kt√≥rƒÖ mo≈ºna dostaƒá przez ekran',
      'Z≈Ço≈õliwy program, kt√≥ry niszczy komputer lub kradnie dane',
      'Rodzaj gry online',
      'Szybkie po≈ÇƒÖczenie z internetem'
    ],
    correct: 1,
    explanation: 'Wirus komputerowy to z≈Çy program, kt√≥ry mo≈ºe uszkodziƒá Tw√≥j komputer lub ukra≈õƒá wa≈ºne pliki i has≈Ça.'
  },
  {
    cat: 'internet',
    text: 'Po co instaluje siƒô antywirus na komputerze?',
    answers: [
      '≈ªeby szybciej ≈Çadowa≈Çy siƒô strony',
      '≈ªeby chroniƒá komputer przed wirusami i z≈Ço≈õliwymi programami',
      '≈ªeby graƒá w gry',
      '≈ªeby robiƒá zdjƒôcia'
    ],
    correct: 1,
    explanation: 'Antywirus pilnuje komputera jak ochroniarz ‚Äì wykrywa i usuwa z≈Ço≈õliwe programy, zanim zrobiƒÖ co≈õ z≈Çego.'
  },
  {
    cat: 'internet',
    text: 'Czy mo≈ºesz um√≥wiƒá siƒô na spotkanie z osobƒÖ poznanƒÖ tylko w internecie?',
    answers: [
      'Tak, je≈õli wyglƒÖda sympatycznie na zdjƒôciu',
      'Tak, je≈õli obiecuje fajny prezent',
      'Nie ‚Äì najpierw koniecznie powiedz o tym rodzicom',
      'Tak, je≈õli mieszka blisko'
    ],
    correct: 2,
    explanation: 'Nigdy nie umawiaj siƒô samodzielnie z osobƒÖ poznanƒÖ w sieci! W internecie ≈Çatwo udawaƒá kogo≈õ innego. Zawsze m√≥w rodzicom.'
  },
  {
    cat: 'internet',
    text: 'Co powinno Ciƒô ostrzec, ≈ºe strona internetowa mo≈ºe byƒá niebezpieczna?',
    answers: [
      'Ma du≈ºo kolor√≥w',
      '≈Åaduje siƒô zbyt szybko',
      'Prosi o has≈Ço lub dane osobowe bez powodu',
      'Ma du≈ºo zdjƒôƒá'
    ],
    correct: 2,
    explanation: 'Je≈õli strona bez powodu pyta o has≈Ço, imiƒô czy adres ‚Äì to mo≈ºe byƒá pu≈Çapka! Wyjd≈∫ ze strony i powiedz doros≈Çym.'
  }
];

function shuffle(arr) {
  const a = [...arr];
  for (let i = a.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [a[i], a[j]] = [a[j], a[i]];
  }
  return a;
}

// Losowanie przy ka≈ºdym otwarciu strony
const shuffledQuestions = shuffle(questions);

let currentQ = 0;
let score = 0;
let excelScore = 0;
let internetScore = 0;
let answered = false;

function startQuiz() {
  show('screen-quiz');
  currentQ = 0;
  score = 0;
  excelScore = 0;
  internetScore = 0;
  loadQuestion();
}

function show(id) {
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

function loadQuestion() {
  answered = false;
  const q = shuffledQuestions[currentQ];
  const total = shuffledQuestions.length;

  document.getElementById('progress-bar').style.width = `${((currentQ) / total) * 100}%`;
  document.getElementById('q-counter').textContent = `Pytanie ${currentQ + 1} z ${total}`;
  document.getElementById('score-display').textContent = `‚≠ê ${score} pkt`;
  document.getElementById('q-number').textContent = `Pytanie ${currentQ + 1}`;
  document.getElementById('q-text').textContent = q.text;

  const badge = document.getElementById('cat-badge');
  if (q.cat === 'excel') {
    badge.textContent = 'üìä Excel';
    badge.className = 'badge excel-badge';
  } else {
    badge.textContent = 'üîí Bezpiecze≈Ñstwo';
    badge.className = 'badge internet-badge';
  }

  const grid = document.getElementById('answers-grid');
  grid.innerHTML = '';
  const letters = ['A', 'B', 'C', 'D'];

  q.answers.forEach((ans, i) => {
    const btn = document.createElement('button');
    btn.className = 'answer-btn';
    btn.innerHTML = `<span class="letter">${letters[i]}</span>${ans}`;
    btn.onclick = () => selectAnswer(i);
    grid.appendChild(btn);
  });

  document.getElementById('feedback-box').className = 'feedback-box';
  document.getElementById('btn-next').className = 'btn-next';
}

function selectAnswer(idx) {
  if (answered) return;
  answered = true;

  const q = shuffledQuestions[currentQ];
  const btns = document.querySelectorAll('.answer-btn');
  const feedback = document.getElementById('feedback-box');
  const feedbackIcon = document.getElementById('feedback-icon');
  const feedbackText = document.getElementById('feedback-text');

  btns.forEach(b => b.disabled = true);

  if (idx === q.correct) {
    btns[idx].classList.add('correct');
    score++;
    if (q.cat === 'excel') excelScore++;
    else internetScore++;
    feedback.className = 'feedback-box correct show';
    feedbackIcon.textContent = '‚úÖ';
    feedbackText.textContent = `≈öwietnie! ${q.explanation}`;
  } else {
    btns[idx].classList.add('wrong');
    btns[q.correct].classList.add('correct');
    feedback.className = 'feedback-box wrong show';
    feedbackIcon.textContent = '‚ùå';
    feedbackText.textContent = `Niestety nie. ${q.explanation}`;
  }

  document.getElementById('score-display').textContent = `‚≠ê ${score} pkt`;

  const nextBtn = document.getElementById('btn-next');
  nextBtn.className = 'btn-next show';
  nextBtn.textContent = currentQ < shuffledQuestions.length - 1 ? 'Nastƒôpne pytanie ‚û°Ô∏è' : 'Zobacz wyniki üéâ';
}

function nextQuestion() {
  currentQ++;
  if (currentQ >= shuffledQuestions.length) {
    showResults();
  } else {
    loadQuestion();
  }
}

function showResults() {
  show('screen-score');
  const total = shuffledQuestions.length;
  const pct = score / total;

  document.getElementById('score-big').textContent = `${score}/${total}`;
  document.getElementById('excel-score').textContent = `${excelScore}/10`;
  document.getElementById('internet-score').textContent = `${internetScore}/10`;

  let trophy, title, msg;

  if (pct >= 0.9) {
    trophy = 'üèÜ'; title = 'Mistrz Informatyki!';
    msg = 'üåü Niesamowity wynik! Jeste≈õ prawdziwym ekspertem od Excela i bezpiecze≈Ñstwa w sieci. Tak trzymaj!';
  } else if (pct >= 0.7) {
    trophy = 'ü•á'; title = '≈öwietna robota!';
    msg = 'üòä Bardzo dobry wynik! Masz solidnƒÖ wiedzƒô. Przejrzyj pytania, na kt√≥re odpowiedzia≈Çe≈õ ≈∫le i wr√≥ƒá do tematu.';
  } else if (pct >= 0.5) {
    trophy = 'ü•à'; title = 'Dobry wynik!';
    msg = 'üëç Dobry start! Znasz podstawy, ale warto powt√≥rzyƒá materia≈Ç. Spr√≥buj jeszcze raz ‚Äì na pewno p√≥jdzie lepiej!';
  } else {
    trophy = 'üìö'; title = 'Czas na naukƒô!';
    msg = 'üí™ Nie martw siƒô ‚Äì ka≈ºdy kiedy≈õ zaczyna! Powt√≥rz materia≈Ç z Excela i bezpiecze≈Ñstwa w internecie, a potem wr√≥ƒá tu i poka≈º co potrafisz!';
  }

  document.getElementById('trophy').textContent = trophy;
  document.getElementById('score-title').textContent = title;
  document.getElementById('medal-msg').textContent = msg;

  if (pct >= 0.7) launchConfetti();
}

function restartQuiz() {
  const fresh = shuffle(questions);
  shuffledQuestions.length = 0;
  fresh.forEach(q => shuffledQuestions.push(q));
  startQuiz();
}

function launchConfetti() {
  const colors = ['#ff6b6b', '#ffd93d', '#6bcb77', '#4d96ff', '#ff9f43', '#a29bfe'];
  for (let i = 0; i < 60; i++) {
    setTimeout(() => {
      const el = document.createElement('div');
      el.className = 'confetti-piece';
      el.style.cssText = `
        left: ${Math.random() * 100}vw;
        top: -20px;
        background: ${colors[Math.floor(Math.random() * colors.length)]};
        animation-duration: ${2 + Math.random() * 2}s;
        animation-delay: ${Math.random() * 1}s;
        transform: rotate(${Math.random() * 360}deg);
        width: ${8 + Math.random() * 8}px;
        height: ${10 + Math.random() * 10}px;
      `;
      document.body.appendChild(el);
      setTimeout(() => el.remove(), 4000);
    }, i * 50);
  }
}
</script>
</body>
</html>
